{% extends "base.html" %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">Importer</h1>

<!-- Form for Uploading YAML -->
<form action="/admin/import_preview" method="post" enctype="multipart/form-data" class="mb-6">
    <label for="file" class="block font-bold mb-2">Upload YAML File:</label>
    <input type="file" name="file" id="file" class="border p-2 rounded mb-4 w-full" required>
    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded">Preview</button>
</form>

    <!-- Display YAML Preview -->
    {% if response %}
        <div class="mt-6 bg-gray-100 p-4 rounded shadow">
            <h2 class="text-xl font-semibold mb-2">Preview:</h2>
            <pre class="text-sm bg-gray-200 p-2 rounded">{{ response }}</pre>

            <form action="/admin/import_data" method="post" class="mt-4">
                <input type="hidden" name="yaml_data" value="{{ response }}">
                <button type="submit" class="bg-green-500 text-white px-4 py-2 rounded">Import Data</button>
            </form>
            
        </div>
    {% endif %}


    <a href="/admin/export_recipes" class="bg-blue-500 text-white px-4 py-2 rounded">
        Export Recipes to YAML
    </a>

{% endblock %}
